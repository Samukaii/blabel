<div class="overflow-x-auto">
    <table class="min-w-full border border-t-0 border-gray-200 text-sm">
        <thead class="bg-gray-100 text-left">
            <tr>
                <th class="px-4 py-2 border-b font-medium text-blue-800"></th>
                <th class="px-4 py-2 border-b font-medium text-blue-800">Caminho</th>
                @for (item of languages(); track item) {
                <th class="px-4 py-2 border-b font-medium text-blue-800">{{item.label}}</th>
                }
            </tr>
        </thead>
        <tbody>
            @for (translation of translations(); track translation) {

            <tr [class.bg-green-100]="translation.operation === 'create'" [class.hover:bg-green-100]="translation.operation === 'create'"
                [class.bg-red-100]="translation.operation === 'delete'" [class.hover:bg-red-100]="translation.operation === 'delete'"
                class="hover:bg-gray-50">
                <td class="px-4 py-2 border-b text-gray-800 whitespace-nowrap">
                    @if (translation.operation === 'delete' || translation.operation === 'create') {
                    <app-icon class="cursor-pointer block h-fit text-blue-900 rounded-full p-2 w-fit hover:text-blue-500 transition"
                        (click)="revertTranslation.emit(translation.path)" name="arrow-uturn-left" />
                    }
                    @else {
                    <app-icon
                        class="cursor-pointer block h-fit text-red-400  rounded-full p-2 hover:text-red-900 transition"
                        name="trash" (click)="remove.emit(translation.path)" />
                    }

                </td>
                <td class="px-4 py-2 border-b text-gray-800 whitespace-nowrap">
                    {{ translation.path }}
                </td>
                @for (entry of translation.entries; track entry.language) {
                <td class="px-4 py-2 border-b text-gray-800">
                    <app-translations-table-item [entry]="entry"
                        (reset)="reset.emit({path: translation.path, language: entry.language.key})"
                        (edit)="edit.emit({translation: translation, language: entry.language})" />
                </td>
                }
            </tr>
            }
        </tbody>
    </table>
</div>